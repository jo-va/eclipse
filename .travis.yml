dist: trusty
sudo: required
language:
  - cpp
compiler:
  - gcc
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - gcc-6
      - g++-6
      - cmake
      - ocl-icd-opencl-dev
      - libglew-dev
      - xorg-dev
      - libglu1-mesa-dev
      - libcurl3-dev
script:
  - ln -s /usr/bin/gcc-6 /usr/local/bin/gcc
  - ln -s /usr/bin/g++-6 /usr/local/bin/g++
  - export CC=/usr/bin/gcc-6
  - export CXX=/usr/bin/g++-6
  - gcc -v && g++ -v && cmake --version
  - mkdir build && cd build
  - cmake .. && make
install:
    # Update system
  - sudo apt-get update -qq
    # Install Opencl and GLEW dependencies
  - sudo apt-get install -qq ocl-icd-opencl-dev libglew-dev
    # Install dependencies for GLFW
  - sudo apt-get install -qq xorg-dev libglu1-mesa-dev
    # Install CURL
  - sudo apt-get install -qq libcurl3-dev
    # Build GLFW
  - mkdir TRAVIS_TMP && cd TRAVIS_TMP
  - git clone https://github.com/glfw/glfw.git && cd glfw
  - cmake -DBUILD_SHARED_LIBS=ON -DGLFW_BUILD_EXAMPLES=OFF -DGLFW_BUILD_TESTS=OFF -DGLFW_BUILD_DOCS=OFF
  - make && sudo make install
  - cd ../..
